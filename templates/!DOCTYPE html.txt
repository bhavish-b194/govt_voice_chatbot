<!DOCTYPE html>
<html>
<head>
  <title>Voice Chat - Govt Assistant</title>
  <meta charset="utf-8">
  <style>
    body { font-family: Arial; text-align: center; background: #f0f8ff; padding: 40px; }
    h1 { color: #006400; }
    button { background: #006400; color: white; padding: 18px 36px; font-size: 22px; border: none; border-radius: 12px; cursor: pointer; }
    button:hover { background: #004d00; }
    #log { margin: 30px auto; width: 600px; text-align: left; background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); font-family: Consolas; }
    .you { color: #0066cc; font-weight: bold; }
    .bot { color: #006400; font-weight: bold; }
  </style>
</head>
<body>
  <h1>वॉइस चैट</h1>
  <h2>Government Voice Assistant</h2>
  <button onclick="talk()">CLICK & SPEAK</button>
  <div id="log"></div>

  <script>
  function log(msg, cls = '') {
      const p = document.createElement('p');
      p.innerHTML = msg;
      if (cls) p.className = cls;
      document.getElementById('log').appendChild(p);
  }

  async function talk() {
      log('Listening...', 'bot');
      const res = await fetch('/api/voice/', { method: 'POST' });
      const data = await res.json();
      if (data.you) {
          log(`<span class="you">You:</span> ${data.you}`, 'you');
          log(`<span class="bot">Bot:</span> ${data.bot}`, 'bot');
      } else {
          log(`<span class="you">Error:</span> ${data.error}`, 'you');
      }
  }
  </script>
</body>
</html>